csah:
  hosts: r3csah.oss.labs

  vars:
    ## used by multiple roles

    # specify the location for access to ocp tools
    # software_src is location where the following files are copied
    software_src: /home/ansible/files

    # Refer to read me file for URLs to download below files
    uefi_file: rhcos-4.3.0-x86_64-metal.raw.gz
    initramfs: rhcos-4.3.0-x86_64-installer-initramfs.img
    openshift_client: openshift-client-linux-4.3.0.tar.gz
    openshift_installer: openshift-install-linux-4.3.0.tar.gz
    kernel_file: rhcos-4.3.0-x86_64-installer-kernel
    pull_secret_file: pullsecret
    

    # Provide bootstrap node details below
    #bootstrap_node:
    #  - name: r3bootstrap
    #    ip: 100.82.46.26
    #    mac: B8:59:9F:C0:35:86

    # Provide master nodes details below. Below example is for 3 master nodes.
    master_nodes:
    - name: r3etcd-0
      ip: 100.82.46.21
      mac: B8:59:9F:C0:36:46
    - name: r3etcd-1
      ip: 100.82.46.22
      mac: B8:59:9F:C0:35:66
    - name: r3etcd-2
      ip: 100.82.46.23
      mac: B8:59:9F:C0:34:C6

    # Provide worker nodes details below. Below example is for 2 worker nodes.
    worker_nodes:
      - name: r3worker1
        ip: 100.82.46.24
        mac: B8:59:9F:C0:36:3E
      - name: r3worker2
        ip: 100.82.46.25
        mac: B8:59:9F:C0:35:E6
      - name: r3worker3
        ip: 100.82.46.26
        mac: B8:59:9F:C0:35:86
    ##

    # Provide Network Interfaces used for bonding and bond options
    bond_name: bond0
    bond_interfaces: ens2f0,ens2f1
    bond_options: mode=active-backup,miimon=100

    ## - DNS role
    # allow dns query from different subnets. Default is 'any'
    # dns_allow_query: any

    # specify cluster zone file. 
    default_zone_file: /var/named/r3.zones

    # provide cluster name. This cluster name should be in sync with hostname
    # ex: csah.ocp.example.lab - ocp is the cluster name
    cluster: r3

    ## - HTTP role

    # specify the http port. DONOT USE THE PORTS USED BY LOAD BALANCER.
    # PORTS 80,6443,22623,443 are used by LB.
    http_port: 8080

    # OS used for master/worker nodes is rhcos. This is default. 
    os: rhcos

    # rhcos version. 4.3 is what is used in the example
    version: 4.3

    # ignition directory that will be created under /var/www/html 
    # files bootstrap.ign, master.ign and worker.ign are copied here.
    http_ignition: ignition

    ##

    ## - DHCP Role 

    base_domain: oss.labs
    default_lease_time: 800
    max_lease_time: 7200
    subnet: 192.168.20.0
    netmask: 255.255.255.0

    ##

    ## - PXE role

    # provide the disk name where rhcos will be installed.
    master_install_device: nvme0n1
    bootstrap_install_device: nvme0n1
    worker_install_device: nvme0n1
    ##
   
    ## - Proxy Role

    # DONOT EDIT THE PROXY ROLE SECTION. 
    # THIS HAS TO BE LEFT DEFAULT
    proxy: haproxy
    haproxy_conf: /etc/haproxy/haproxy.cfg
    master_ports:
      - port: 6443
        description: apiserver
      - port: 22623
        description: configserver
    worker_ports:
      - port: 80
        description: http
      - port: 443
        description: https
    ##

    ## - Ignition Role

    # By default, core user will be used to connect with ocp cluster.
    # DONOT CHANGE IT TO ANY OTHER USER.
    install_user: core

    # provide the directory name where the ocp tools will be copied
    install_dir: openshift

    # specify the pod network.
    cluster_network_cidr: 10.128.0.0/14

    # specify cidr notation for number of ips reside in each node
    host_prefix: 23

    # specify the service network
    service_network_cidr: 172.30.0.0/16

    # specify number of worker nodes
    number_of_workers: 2

    # specify number of master nodes
    number_of_masters: 3

    ##
